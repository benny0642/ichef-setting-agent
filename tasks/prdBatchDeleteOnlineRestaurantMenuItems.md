# batchDeleteOnlineRestaurantMenuItems - ç”¢å“éœ€æ±‚æ–‡ä»¶ (PRD)

## 1. å¼•è¨€/æ¦‚è¿°

æœ¬åŠŸèƒ½ç‚ºä¸€å€‹ MCP toolï¼Œç”¨æ–¼æ‰¹æ¬¡ä¸‹æ¶ç·šä¸Šé¤å»³ï¼ˆå¤–å¸¶å¤–é€ï¼‰çš„èœå–®é …ç›®ã€‚æ­¤å·¥å…·èƒ½å¤ é€é GraphQL mutation ä¸€æ¬¡æ€§è™•ç†å¤šå€‹èœå–®é …ç›®çš„ä¸‹æ¶ä½œæ¥­ï¼Œæé«˜ç‡Ÿé‹æ•ˆç‡ï¼Œé¿å…éœ€è¦é€ä¸€æ‰‹å‹•ä¸‹æ¶å•†å“çš„ç¹ç‘£æ“ä½œã€‚

## 2. ç›®æ¨™

- ç›®æ¨™ 1ï¼šæä¾›æ‰¹æ¬¡ä¸‹æ¶ç·šä¸Šé¤å»³èœå–®é …ç›®çš„èƒ½åŠ›ï¼Œæå‡ç‡Ÿé‹æ•ˆç‡
- ç›®æ¨™ 2ï¼šå¯¦ä½œå®‰å…¨çš„ç¢ºèªæ©Ÿåˆ¶ï¼Œé¿å…èª¤åˆªé‡è¦å•†å“
- ç›®æ¨™ 3ï¼šæä¾›æ¸…æ¥šçš„æ“ä½œçµæœå›é¥‹ï¼Œè®“ä½¿ç”¨è€…äº†è§£åŸ·è¡Œç‹€æ³
- ç›®æ¨™ 4ï¼šéµå¾ªå°ˆæ¡ˆæ—¢æœ‰çš„ MCP tool æ¶æ§‹æ¨¡å¼ï¼Œä¿æŒç¨‹å¼ç¢¼ä¸€è‡´æ€§

## 3. åŠŸèƒ½éœ€æ±‚

### 3.1 æ ¸å¿ƒåŠŸèƒ½

1. ç³»çµ±å¿…é ˆèƒ½å¤ æ¥å—å¤šå€‹èœå–®é …ç›® UUID ä½œç‚ºè¼¸å…¥åƒæ•¸ï¼ˆé™£åˆ—æ ¼å¼ï¼Œä¾†è‡ª OnlineRestaurantMenuItemOutput type çš„ uuid æ¬„ä½ï¼Œé ichefUuidï¼‰
2. ç³»çµ±å¿…é ˆåœ¨åŸ·è¡Œåˆªé™¤å‰é¡¯ç¤ºå³å°‡ä¸‹æ¶çš„é …ç›®æ¸…å–®ä¾›ä½¿ç”¨è€…ç¢ºèª
3. ç³»çµ±å¿…é ˆé€é GraphQL mutation `onlineRestaurantMenuItemBatchDeleteMutation` åŸ·è¡Œæ‰¹æ¬¡ä¸‹æ¶
4. ç³»çµ±å¿…é ˆè¿”å›å·²æˆåŠŸä¸‹æ¶çš„èœå–®é …ç›® UUID åˆ—è¡¨
5. ä½¿ç”¨è€…æ‡‰èƒ½å¤ é€é MCP å”è­°å‘¼å«æ­¤å·¥å…·
6. ç³»çµ±æ‡‰æä¾›æ¸…æ¥šçš„æˆåŠŸå›é¥‹è¨Šæ¯ï¼ŒåŒ…å«è™•ç†çµæœçµ±è¨ˆ

### 3.2 è¼”åŠ©åŠŸèƒ½

1. ç³»çµ±æ‡‰æä¾›å®Œæ•´çš„è¼¸å…¥åƒæ•¸é©—è­‰ï¼ˆUUID æ ¼å¼æª¢æŸ¥ï¼‰
2. ç³»çµ±æ‡‰æä¾›æ¨™æº–åŒ–çš„éŒ¯èª¤è™•ç†æ©Ÿåˆ¶
3. ç•¶ç™¼ç”ŸéŒ¯èª¤æ™‚ï¼Œç³»çµ±å¿…é ˆæä¾›æ¸…æ¥šçš„éŒ¯èª¤è¨Šæ¯å’Œå»ºè­°è§£æ±ºæ–¹æ¡ˆ
4. ç³»çµ±æ‡‰æ”¯æ´ç©ºé™£åˆ—è¼¸å…¥çš„è™•ç†ï¼ˆæç¤ºä½¿ç”¨è€…ç„¡é …ç›®å¯åˆªé™¤ï¼‰

## 4. éç›®æ¨™ (è¶…å‡ºç¯„åœ)

- éç›®æ¨™ 1ï¼šä¸è™•ç†å–®ä¸€èœå–®é …ç›®ä¸‹æ¶ï¼ˆå·²æœ‰å…¶ä»–å·¥å…·è™•ç†ï¼‰
- éç›®æ¨™ 2ï¼šä¸è™•ç†å…§ç”¨èœå–®çš„é …ç›®ç®¡ç†
- éç›®æ¨™ 3ï¼šä¸å¯¦ä½œè¤‡é›œçš„æ¬Šé™æ§åˆ¶æ©Ÿåˆ¶
- éç›®æ¨™ 4ï¼šä¸è™•ç†ç›¸é—œè¯è³‡æ–™çš„æ¸…ç†ï¼ˆå¦‚è¨‚å–®ã€åº«å­˜ç­‰ï¼‰
- éç›®æ¨™ 5ï¼šä¸è¨­å®šæ‰¹æ¬¡è™•ç†æ•¸é‡ä¸Šé™
- éç›®æ¨™ 6ï¼šä¸è™•ç†éƒ¨åˆ†å¤±æ•—çš„é‡è©¦æ©Ÿåˆ¶ï¼ˆç”±å¾Œç«¯ API è™•ç†ï¼‰

## 5. è¨­è¨ˆè€ƒé‡

- UI/UX éœ€æ±‚ï¼š
  - å»¶çºŒå°ˆæ¡ˆæ—¢æœ‰çš„ MCP tool å›æ‡‰æ ¼å¼
  - ä½¿ç”¨æ¸…æ¥šçš„ emoji åœ–ç¤ºå¢é€²å¯è®€æ€§
  - æä¾›çµæ§‹åŒ–çš„å›æ‡‰è¨Šæ¯
- ä½¿ç”¨è€…äº’å‹•æµç¨‹ï¼š
  1. ä½¿ç”¨è€…æä¾›èœå–®é …ç›® UUID é™£åˆ—
  2. ç³»çµ±é©—è­‰è¼¸å…¥æ ¼å¼
  3. ç³»çµ±é¡¯ç¤ºå³å°‡ä¸‹æ¶çš„é …ç›®ï¼ˆå¦‚æœ‰éœ€è¦å¯å…ˆæŸ¥è©¢é …ç›®è³‡è¨Šï¼‰
  4. ä½¿ç”¨è€…ç¢ºèªåŸ·è¡Œ
  5. ç³»çµ±åŸ·è¡Œæ‰¹æ¬¡ä¸‹æ¶
  6. ç³»çµ±å›å ±åŸ·è¡Œçµæœ
- ç„¡éšœç¤™è¨­è¨ˆè€ƒé‡ï¼š
  - æä¾›æ¸…æ¥šçš„æ–‡å­—æè¿°ï¼Œé¿å…åƒ…ä¾è³´åœ–ç¤º
  - éŒ¯èª¤è¨Šæ¯æ‡‰å…·å‚™æŒ‡å°æ€§

## 6. æŠ€è¡“è€ƒé‡

- æŠ€è¡“æ¶æ§‹ï¼š
  - éµå¾ªç¾æœ‰ MCP tool æ¶æ§‹æ¨¡å¼ï¼ˆåƒè€ƒ `createMenuItem.ts`ï¼‰
  - ä½¿ç”¨ç›¸åŒçš„ GraphQL å®¢æˆ¶ç«¯è¨­å®š
  - æ¡ç”¨ TypeScript å¼·å‹åˆ¥è¨­è¨ˆ
- GraphQL æ•´åˆï¼š
  - ä½¿ç”¨æä¾›çš„ mutationï¼š`onlineRestaurantMenuItemBatchDeleteMutation`
  - è¼¸å…¥åƒæ•¸ï¼š`menuItemUuids: [UUID]`
  - å›æ‡‰æ ¼å¼ï¼š`{ deletedMenuItemUuids: [UUID] }`
- éŒ¯èª¤è™•ç†ï¼š
  - æ¡ç”¨å°ˆæ¡ˆæ—¢æœ‰çš„éŒ¯èª¤è™•ç†æ¨¡å¼
  - æä¾›åˆ†å±¤çš„éŒ¯èª¤è¨Šæ¯ï¼ˆç¶²è·¯ã€èªè­‰ã€æ¥­å‹™é‚è¼¯ï¼‰
- æª”æ¡ˆçµæ§‹ï¼š
  - å·¥å…·æª”æ¡ˆï¼š`src/tools/batchDeleteOnlineRestaurantMenuItems.ts`
  - GraphQL æª”æ¡ˆï¼š`src/api/gql/onlineRestaurantMenuItemBatchDeleteMutation.ts`
  - å‹åˆ¥å®šç¾©ï¼šæ–°å¢è‡³ `src/types/menuTypes.ts`

## 7. æˆåŠŸæŒ‡æ¨™

- é‡åŒ–æŒ‡æ¨™ï¼š
  - å·¥å…·èƒ½å¤ æˆåŠŸè™•ç†æ‰¹æ¬¡ä¸‹æ¶è«‹æ±‚çš„æˆåŠŸç‡ > 95%
  - éŒ¯èª¤è™•ç†æ¶µè“‹ç‡é” 100%ï¼ˆç¶²è·¯ã€èªè­‰ã€æ ¼å¼éŒ¯èª¤ç­‰ï¼‰
  - ç¬¦åˆ MCP å”è­°è¦ç¯„çš„å›æ‡‰æ ¼å¼
- è³ªåŒ–æŒ‡æ¨™ï¼š
  - ä½¿ç”¨è€…èƒ½å¤ æ¸…æ¥šç†è§£æ“ä½œçµæœ
  - éŒ¯èª¤è¨Šæ¯å…·å‚™æŒ‡å°æ€§ï¼Œå¹«åŠ©ä½¿ç”¨è€…è§£æ±ºå•é¡Œ
  - ç¨‹å¼ç¢¼ç¬¦åˆå°ˆæ¡ˆæ—¢æœ‰çš„é–‹ç™¼æ¨¡å¼å’Œé¢¨æ ¼

## 8. é–‹æ”¾å•é¡Œ

- [x] æ‰¹æ¬¡è™•ç†æ•¸é‡é™åˆ¶ï¼šç¢ºèªç„¡éœ€è¨­å®šä¸Šé™
- [x] éƒ¨åˆ†å¤±æ•—è™•ç†ï¼šç¢ºèªç”±å¾Œç«¯ API çµ±ä¸€è™•ç†
- [x] ç¢ºèªæ©Ÿåˆ¶ï¼šç¢ºèªéœ€è¦åœ¨åŸ·è¡Œå‰é¡¯ç¤ºé …ç›®æ¸…å–®
- [ ] é …ç›®è³‡è¨ŠæŸ¥è©¢ï¼šæ˜¯å¦éœ€è¦åœ¨ç¢ºèªéšæ®µé¡¯ç¤ºé …ç›®è©³ç´°è³‡è¨Šï¼ˆåç¨±ã€åƒ¹æ ¼ç­‰ï¼‰
- [ ] ç©ºé™£åˆ—è™•ç†ï¼šç¢ºèªç©ºè¼¸å…¥çš„å›æ‡‰è¨Šæ¯æ ¼å¼
- [ ] åŸ·è¡Œå‰è­¦å‘Šï¼šç¢ºèªæ˜¯å¦éœ€è¦é¡å¤–çš„è­¦å‘Šè¨Šæ¯ï¼ˆå¦‚ã€Œæ­¤æ“ä½œä¸å¯å¾©åŸã€ï¼‰

## 9. æŠ€è¡“å¯¦ä½œç´°ç¯€

### 9.1 è¼¸å…¥åƒæ•¸ Schema

```typescript
{
  type: 'object',
  properties: {
    menuItemUuids: {
      type: 'array',
      items: {
        type: 'string',
        pattern: '^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$'
      },
      description: 'è¦ä¸‹æ¶çš„èœå–®é …ç›® UUID é™£åˆ—ï¼ˆä¾†è‡ª OnlineRestaurantMenuItemOutput type çš„ uuid æ¬„ä½ï¼Œé ichefUuidï¼‰',
      minItems: 1
    }
  },
  required: ['menuItemUuids']
}
```

**é‡è¦èªªæ˜ï¼š**

- `menuItemUuids` å¿…é ˆä½¿ç”¨ `OnlineRestaurantMenuItemOutput` type ä¸­çš„ `uuid` æ¬„ä½å€¼
- **ä¸æ˜¯** `ichefUuid` æ¬„ä½å€¼
- é€™äº› UUID æ˜¯ç·šä¸Šé¤å»³ç³»çµ±ç‰¹å®šçš„è­˜åˆ¥ç¢¼ï¼Œç”¨æ–¼å¤–å¸¶å¤–é€å¹³å°çš„èœå–®ç®¡ç†

### 9.2 GraphQL Mutation

```graphql
mutation onlineRestaurantMenuItemBatchDeleteMutation($menuItemUuids: [UUID]) {
  restaurant {
    settings {
      menu {
        integration {
          onlineRestaurant {
            deleteMenu(menuItemUuids: $menuItemUuids) {
              deletedMenuItemUuids
            }
          }
        }
      }
    }
  }
}
```

### 9.3 å›æ‡‰æ ¼å¼ç¯„ä¾‹

æˆåŠŸå›æ‡‰ï¼š

```
âœ… æ‰¹æ¬¡ä¸‹æ¶å®Œæˆï¼

ğŸ“Š è™•ç†çµæœ:
   - æˆåŠŸä¸‹æ¶é …ç›®æ•¸: 3
   - è™•ç†çš„ UUID:
     â€¢ abc123e4-5678-90ab-cdef-1234567890ab
     â€¢ def456e7-8901-23cd-ef45-6789012345cd
     â€¢ ghi789e0-1234-56ef-78ab-9012345678ef

ğŸ‰ æ‰€æœ‰æŒ‡å®šçš„ç·šä¸Šé¤å»³èœå–®é …ç›®å·²æˆåŠŸä¸‹æ¶ï¼
```

éŒ¯èª¤å›æ‡‰ï¼š

```
âŒ æ‰¹æ¬¡ä¸‹æ¶å¤±æ•—

éŒ¯èª¤åŸå› : [å…·é«”éŒ¯èª¤è¨Šæ¯]

ğŸ’¡ å»ºè­°æª¢æŸ¥:
- UUID æ ¼å¼æ˜¯å¦æ­£ç¢º
- é …ç›®æ˜¯å¦å­˜åœ¨
- ç¶²è·¯é€£ç·šæ˜¯å¦æ­£å¸¸
- Token æ˜¯å¦æœ‰æ•ˆ
```
